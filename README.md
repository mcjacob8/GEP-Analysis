**GEP-Analysis** repository contains scripts for various GEP calibration and analysis work. The GEp-V experiment is a recoil polarization experiment which aims to extract the electromagnetic form factor ratio of the proton at high momentum transfer. More information about this experiment and the analysis can be found on the [GEp Analysis Wiki](https://sbs.jlab.org/wiki/index.php/GEP_Analysis_Page).

## Contents
1. Design
2. Notable Scripts
3. Prerequisites
4. Contact

## 1. Design: 
There are mainly four different kind of scripts present in this repository: 
1. **Analysis scripts**: These scripts, general written in the form of root macros (or .C files) are the bulk of the analysis work. They perform various calibration or analysis tasks, and generally have a short descriptive name as well as a short explanation in the sticker at the beginning of the file. These often take somesort of config file or other input. Some of these more important scripts are described in the list below.
2. **configXXX.cfg**: These are config scripts that many of the analysis scripts take. Generally the include root files to look at, global cuts, and other paramaters to set. A short descriptive name helps match them to their parent script.
3. **runlist_XXX.txt**: These are lists of rootfiles, which are useful for large scale analysis or when there are certain ranges for different tasks. They help prevent clutter in some of the config files, as only the runlist file needs to be referenced.
4. **Submit scripts (.sh)**: These are used for submitting jobs to the batch farm when certain tasks are slow. In some cases, they can also string together series of tasks.

## 2. Processes:
Here is a list of notable scripts that perform important analysis tasks
1. **GetAsymmetry.C**: This script generates the experimental helicity asymmetry for the form factor analysis. It fits this asymmetry to a sin+cos distribution. Eventually this information, and likely other statisitcs, will need to be printed out to be passed on to another script for the ratio evalutaion. This script takes in a config file which contains a runlist for data to look at, a global cut to evalutate elasticly scattered protons, and selection cuts for protons that underwent secondary scattered in the CH2 analyzer.
2. **RatioPlot.C**: This script generates a plot of the form factor ratio using existing current data and values for GEp-V fed into it. Eventually, this will need to accept an input file that contains the values and errors for GEp-V results to be plotted.
3. **TrackingCompare.C**: Compares tracking cut results, particularly the ADC threshold and timing cuts generated by by the GetTrackingCutsFast script, for different data sets (hard coded plot labels for LH2 vs optics data, but also useful for different run conditions). Takes in several root and .dat files from different ouput results of GetTrackingCutsFast.

## 3. Prerequisites:
- Most up-to-date build of the following libraries:
  - [simc_gfortran](https://github.com/MarkKJones/simc_gfortran) - Necessary for SIMC simulation jobs. Build from the `bigbite` branch.
  - [g4sbs](https://github.com/JeffersonLab/g4sbs/tree/master) - Necessary for g4sbs simulation jobs. Build from the `uconn_dev` branch.
  - [libsbsdig](https://github.com/JeffersonLab/libsbsdig) - Necessary for digitization (sbsdig) jobs.
  - [analyzer](https://github.com/JeffersonLab/analyzer) - Necessary for replay jobs.
  - [SBS-offline](https://github.com/JeffersonLab/SBS-offline) - Necessary for replay jobs.
  - [SBS-replay](https://github.com/JeffersonLab/SBS-replay) - Necessary for replay jobs.
- `python3` 

## 4. Contact:
In case of any questions or concerns please contact the author(s),
>Authors: Jacob McMurtry (UVA)
>Contact: <rby2vw@virgina.edu> (Jacob)
